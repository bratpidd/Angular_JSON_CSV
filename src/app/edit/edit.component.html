<div class="container-fluid">
  <div class="alert alert-success">Входная строка распознана как {{contentService.recognizedEncoding}}</div>
  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead>
        <th class="fit">*</th>
        <th *ngFor="let key of keys">{{ key }}</th>
        <th class="fit"><button type="button" class="btn btn-secondary btn-sm" (click)="addRow(0)">+</button></th>
      </thead>
      <tbody>
        <tr *ngFor="let dataRow of data; index as i">
          <td class="fit">
            <div class="btn-group-vertical">
              <button type="button" class="btn btn-primary btn-sm mb-1" (click)="moveUp(i)">^</button>
              <button type="button" class="btn btn-primary btn-sm" (click)="moveDown(i)">v</button>
            </div>
          </td>
          <td *ngFor="let key of keys">
            <input type="text" [(ngModel)]="dataRow[key]">
          </td>
          <td class="fit">
            <div class="btn-group-vertical">
              <button type="button" class="btn btn-danger btn-sm mb-1" (click)="deleteRow(i)">-</button>
              <button type="button" class="btn btn-secondary btn-sm" (click)="addRow(i+1)">+</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <button class="btn btn-info" (click)="goBack()">Назад</button>
  <button class="btn btn-success float-right" [disabled]="!contentService.data.length" (click)="processData('JSON')">Представить как JSON</button>
  <button class="btn btn-success float-right mr-2" [disabled]="!contentService.data.length" (click)="processData('CSV')">Представить как CSV</button>
  <h3>Выходные данные: {{outFormat}}</h3>
  <textarea class="form-control mt-2" rows="6" id="text" [(ngModel)]="outputString"></textarea>
  <app-alerts></app-alerts>
</div>

